/*************************************************************************
** File Name:      AAC_sbr_table.c                                        *
** Author:         Reed zhang                                            *
** Date:           30/12/2005                                            *
** Copyright:      2001 Spreatrum, Incoporated. All Rights Reserved.     *
** Description:    This file defines just some common functions that     *
**                 could be used anywhere								 *
**                        Edit History                                   *
** ----------------------------------------------------------------------*
** DATE           NAME             DESCRIPTION                           *
** 30/12/2005     Reed zhang       Create.                               *
**************************************************************************/
/* just some common functions that could be used anywhere */
#include "aac_common.h"
/* Table 1.A.13 Noise table V */

  const int32 log2_int_tab[] = 
{
	   -163840000,       0, 
		16384,   25968, 
		32768,   38042, 
		42352,   45996, 
		49152,   51936, 
		54426,   56679, 
		58736,   60628, 
		62380,   64010, 
		65536,   66969, 
		68320,   69598, 
		70810,   71964, 
		73063,   74114, 
		75120,   76085, 
		77012,   77904, 
		78764,   79593, 
		80394,   81170, 
		81920,   82647, 
		83353,   84038, 
		84704,   85352, 
		85982,   86596, 
		87194,   87778, 
		88348,   88904, 
		89447,   89979, 
		90498,   91006, 
		91504,   91991, 
		92469,   92937, 
		93396,   93846, 
		94288,   94722, 
		95148,   95566, 
		95977,   96381, 
		96778,   97169, 
		97554,   97932, 98304
};
  const int16 pan_log2_tab[] =
{
	16384, 
		9584, 
		5274, 
		2784, 
		1433, 
		727, 
		366, 
		184, 
		92, 
		46, 
		23, 
		12, 
		6, 
		3, 
		1, 
		1, 
		0,
};
const int16 pow2_tab[] = 
{
	  16384, 
		  16562, 
		  16743, 
		  16925, 
		  17109, 
		  17296, 
		  17484, 
		  17674, 
		  17867, 
		  18061, 
		  18258, 
		  18457, 
		  18658, 
		  18861, 
		  19066, 
		  19274, 
		  19484, 
		  19696, 
		  19911, 
		  20127, 
		  20347, 
		  20568, 
		  20792, 
		  21019, 
		  21247, 
		  21479, 
		  21713, 
		  21949, 
		  22188, 
		  22430, 
		  22674, 
		  22921, 
		  23170, 
		  23423, 
		  23678, 
		  23936, 
		  24196, 
		  24460, 
		  24726, 
		  24995, 
		  25268, 
		  25543, 
		  25821, 
		  26102, 
		  26386, 
		  26674, 
		  26964, 
		  27258, 
		  27554, 
		  27855, 
		  28158, 
		  28464, 
		  28774, 
		  29088, 
		  29405, 
		  29725, 
		  30048, 
		  30376, 
		  30706, 
		  31041, 
		  31379, 
		  31720, 
		  32066, 
		  32415, 
		  32767, 
};
const int16 log2_tab[] = 
{
	0, 
		366, 
		727, 
		1083, 
		1433, 
		1778, 
		2118, 
		2453, 
		2784, 
		3110, 
		3432, 
		3749, 
		4062, 
		4371, 
		4676, 
		4977, 
		5274, 
		5568, 
		5858, 
		6145, 
		6428, 
		6707, 
		6984, 
		7257, 
		7527, 
		7794, 
		8059, 
		8320, 
		8578, 
		8834, 
		9086, 
		9337, 
		9584, 
		9829, 
		10071, 
		10311, 
		10549, 
		10784, 
		11017, 
		11248, 
		11476, 
		11702, 
		11926, 
		12148, 
		12368, 
		12586, 
		12802, 
		13016, 
		13228, 
		13438, 
		13646, 
		13853, 
		14057, 
		14260, 
		14461, 
		14661, 
		14858, 
		15055, 
		15249, 
		15442, 
		15634, 
		15823, 
		16012, 
		16199, 
		16384, 
};


  const int32 log_Qplus1_pan[6][13] = 
{
	{     727,     2781,     9553,    25724,    50667,    77551,    98670,   109643,   113450,   114508,   114781,   114849,   114866} , 
	{     366,     1432,     5256,    16201,    36903,    62040,    82647,    93487,    97260,    98310,    98580,    98648,    98665} , 
	{     184,      727,     2774,     9462,    25022,    47309,    66969,    77551,    81259,    82292,    82558,    82625,    82642} , 
	{      92,      366,     1428,     5202,    15678,    33921,    51936,    62040,    65623,    66624,    66882,    66947,    66964} , 
	{      46,      184,      725,     2744,     9116,    22586,    38042,    47309,    50667,    51611,    51854,    51916,    51931} , 
	{      23,       92,      365,     1412,     4995,    13894,    25968,    33921,    36903,    37750,    37969,    38024,    38038} , 
	/*
	{       0,        0,        0,        0,        0,        0,        0,        0,        0,        0,        0,        0,        0} , 
	{       0,        0,        0,        0,        0,        0,        0,        0,        0,        0,        0,        0,        0} , 
	{       0,        0,        0,        0,        0,        0,        0,        0,        0,        0,        0,        0,        0} , 
	{       0,        0,        0,        0,        0,        0,        0,        0,        0,        0,        0,        0,        0} , 
	{       0,        0,        0,        0,        0,        0,        0,        0,        0,        0,        0,        0,        0} , 
	{       0,        0,        0,        0,        0,        0,        0,        0,        0,        0,        0,        0,        0} , 
	{       0,        0,        0,        0,        0,        0,        0,        0,        0,        0,        0,        0,        0} , 
	{       0,        0,        0,        0,        0,        0,        0,        0,        0,        0,        0,        0,        0} , */
};
 const int16 log_Qplus1_pan1[17][13] = 
{
	{      12,       46,      183,      716,     2629,     7953,    16384,    22586,    25022,    25724,    25907,    25953,    25964} , 
	{       6,       23,       92,      361,     1351,     4310,     9584,    13894,    15678,    16201,    16338,    16372,    16381} , 
	{       3,       12,       46,      181,      685,     2253,     5274,     7953,     9116,     9462,     9553,     9576,     9582} , 
	{       1,        6,       23,       91,      345,     1153,     2784,     4310,     4995,     5202,     5256,     5270,     5273} , 
	{       1,        3,       11,       45,      173,      584,     1433,     2253,     2629,     2744,     2774,     2781,     2783} , 
	{       0,        1,        6,       23,       87,      294,      727,     1153,     1351,     1412,     1428,     1432,     1433} , 
	{       0,        1,        3,       11,       43,      147,      366,      584,      685,      716,      725,      727,      727} , 
	{       0,        0,        1,        6,       22,       74,      184,      294,      345,      361,      365,      366,      366} , 
	{       0,        0,        1,        3,       11,       37,       92,      147,      173,      181,      183,      184,      184} , 
	{       0,        0,        0,        1,        5,       18,       46,       74,       87,       91,       92,       92,       92} , 
	{       0,        0,        0,        1,        3,        9,       23,       37,       43,       45,       46,       46,       46} , 
	{       0,        0,        0,        0,        1,        5,       12,       18,       22,       23,       23,       23,       23} , 
	{       0,        0,        0,        0,        1,        2,        6,        9,       11,       11,       11,       12,       12} , 
	{       0,        0,        0,        0,        0,        1,        3,        5,        5,        6,        6,        6,        6} , 
	{       0,        0,        0,        0,        0,        1,        1,        2,        3,        3,        3,        3,        3} , 
	{       0,        0,        0,        0,        0,        0,        1,        1,        1,        1,        1,        1,        1} , 
	{       0,        0,        0,        0,        0,        0,        0,        1,        1,        1,        1,        1,        1} , 
	
};
  const int32 log_Qplus1[31] = 
{
	   98670,    82647,    66969,    51936,    38042,    25968,    16384,     9584,     5274,     2784,     1433,      727,      366,      184,       92,       46,       23,       12,        6,        3,        1,        1,        0,        0,        0,        0,        0,        0,        0,        0,        0, 
};

int32  SBR_ADJ_Noise_tab[512] = 
{
  0x8011b3dc,
  0x7c4ea990,
  0x12168649,
  0xc3d5d034,
  0x674d25f5,
  0xce1b72a7,
  0xfea7aa4b,
  0x8b2ef140,
  0x46326049,
  0x3336815f,
  0x802b8f2c,
  0x85b8745d,
  0xc579b767,
  0xa2a6828d,
  0x60cc1ad1,
  0x090d9bd8,
  0x5f5b8b4e,
  0x848e86bc,
  0x26f2c0b8,
  0x553452c1,
  0x755f166b,
  0xa5684343,
  0xa656c5f7,
  0x80a58cb5,
  0x7da79cd9,
  0xba05fcb6,
  0xfdd6005e,
  0x91c73676,
  0x816b8f83,
  0x424055ab,
  0x8078b59f,
  0x800a7dea,
  0x46be4c18,
  0x2c447972,
  0x5036a0c4,
  0x9d40d4a1,
  0x8ac304b8,
  0x9e5b8b0b,
  0x662188ba,
  0x45baf0be,
  0x9262364f,
  0x891c23ad,
  0xf1038041,
  0x1b568be2,
  0x9e7a7fb4,
  0x7d95854e,
  0x92087a95,
  0x88913f46,
  0x2706a5b5,
  0x6d2c3bdc,
  0x74e68035,
  0xf8765a8d,
  0x245a2c55,
  0x79eeb9bd,
  0x9b6f9f46,
  0x8564e5dc,
  0x697c7bb8,
  0xac908e6b,
  0x88237fd6,
  0x75078230,
  0xa5e54b43,
  0x00b94f10,
  0x72014390,
  0xa816676f,
  0x5c5fa759,
  0xaf741171,
  0x2652c50e,
  0x8a85a144,
  0x7f1a343f,
  0x696ea13c,
  0x81e78009,
  0x853a80fa,
  0xe498886b,
  0xa7e9dd94,
  0x75920bfb,
  0x850a2e35,
  0x421ba4a4,
  0x4e3f3c19,
  0x3c97dd03,
  0x747a7bcc,
  0x39677efe,
  0x55447ba3,
  0x5fe78cf4,
  0x808c4391,
  0x7cacea6d,
  0x5d09c27b,
  0x7a275821,
  0xa29c9df1,
  0x92bd7196,
  0x97cb833a,
  0x8f735fae,
  0xa46381d4,
  0x6ae96b24,
  0xc2738179,
  0x7c576685,
  0x428d66b8,
  0xfeea9ddd,
  0xa60646dc,
  0x8541c89f,
  0x7c430bf0,
  0x89b96d73,
  0xa7087e40,
  0x21ff5dd8,
  0x23e4129c,
  0xa11a7f1e,
  0xfdc29640,
  0xb9708169,
  0x7d6487a7,
  0x810755c9,
  0xa95d102b,
  0x0bb3e5b6,
  0xa44782d5,
  0x67b344c4,
  0x33fdde1f,
  0xa95f78f6,
  0x6f2be888,
  0x80a4fca1,
  0x6bf10d52,
  0xf4345903,
  0x7ff2f02e,
  0x99f18ac6,
  0x7b547bb3,
  0x99ac5256,
  0xf1322498,
  0xcce6787c,
  0x7ed68a29,
  0x24a68b7a,
  0x955fa9d1,
  0x7a1e3eee,
  0xf7bf0429,
  0x808b3642,
  0xac2969a9,
  0x97ffbdeb,
  0x80746c26,
  0x005e52e7,
  0x59d4e5d2,
  0x7b58341b,
  0xa7d474ea,
  0xd35c5b7c,
  0x75bc5521,
  0x81456de9,
  0x5826473f,
  0x80a9e655,
  0x78988063,
  0xa9b63f6c,
  0xc368920b,
  0x1256877e,
  0xda89075f,
  0x380e9b00,
  0xd17a530a,
  0xf4cd7d0a,
  0x847cbaee,
  0x471364fb,
  0x5e217b75,
  0xd87698c0,
  0x0493836c,
  0x7e5d3df7,
  0x97708bbe,
  0x56df680b,
  0xebc46d28,
  0x6753e05d,
  0x3d2bc4b2,
  0x7b5a3143,
  0x8119e012,
  0x6a5886ae,
  0xb4cc01a7,
  0x7a4a927d,
  0x847eae0e,
  0x836c0fd8,
  0x74fe4a34,
  0x80185afd,
  0x90cde607,
  0xde6aa89f,
  0xe06e8fd1,
  0x031822cf,
  0x690c9316,
  0x71578d44,
  0xe8bdde86,
  0x0bfa4634,
  0xba067adb,
  0x2f6db351,
  0xa5ec74c5,
  0xd3b680b7,
  0xa7f8d94b,
  0xdda46a63,
  0x3ed0c5f1,
  0x31e47a42,
  0x82df06cb,
  0xe9d38941,
  0x7fef4a9b,
  0xacde57de,
  0xf09eb6da,
  0xb48cd365,
  0xca7a14d5,
  0x7fdb0e41,
  0xb77d8c2b,
  0x787f2d29,
  0x9f1244ac,
  0x1a4b871f,
  0x7ffa6631,
  0x25382d4e,
  0xaf8a319f,
  0x379b81dc,
  0x822e1ae8,
  0x18fa875f,
  0x85ca7de8,
  0x7787a545,
  0x92e6f552,
  0x9160c562,
  0x31c47c83,
  0x75d1b016,
  0x72214656,
  0xd0da7b77,
  0x782e8cd7,
  0x7f10fb31,
  0x879934e8,
  0x7fabea75,
  0xd20cc44f,
  0x06b4df2e,
  0x2efbce86,
  0x7551d8d9,
  0x5852746b,
  0xce847f5d,
  0xda8f2fee,
  0xb2f76f14,
  0x834e7b7b,
  0x713b499c,
  0x06a81b3a,
  0xbb857c78,
  0xc0bb7dad,
  0x815dcc7b,
  0x8275a2be,
  0xdd027ff0,
  0x0814ba30,
  0xe5cfedd0,
  0x54c45cd6,
  0x93800309,
  0x8e0771c0,
  0x7ac2623c,
  0x5e16fb34,
  0xd75ed0da,
  0xd4573378,
  0x3d30cd8a,
  0x7dd3028c,
  0xd85ee8dd,
  0x7ffede5c,
  0x88c58229,
  0x7fe7996b,
  0xdeb09eb8,
  0xd24a18b4,
  0x80215f8c,
  0x6ecb4729,
  0x2ac36e51,
  0x7ebc05e4,
  0xaaa28ab2,
  0x51f11408,
  0x7f733aae,
  0xaecf1afb,
  0xf6238d56,
  0x7e3270f3,
  0x6687d0d4,
  0x64503a40,
  0x0b25679a,
  0x90e1325d,
  0xcd7caa7c,
  0x7d48a33e,
  0x865a72a4,
  0x15c445ff,
  0x9d8e84d4,
  0x7fac36a7,
  0x7a297c2a,
  0x7f76babe,
  0x23ea92bd,
  0x6d21ad5a,
  0xbf39abb8,
  0x8392e270,
  0x7a2580f9,
  0x83ef5e6f,
  0x27843524,
  0xe09c50e8,
  0xd4b8ce83,
  0xf88bf71e,
  0xe2b17c3b,
  0xe84f3ce2,
  0xf2938fa8,
  0xa3fc63e1,
  0x7fbc7341,
  0x49ae8b7a,
  0x25017b46,
  0x36003da1,
  0x7778c846,
  0x83ba6ee5,
  0x2f015393,
  0x98330b3c,
  0xde698940,
  0x6b84477a,
  0x801e8517,
  0x5f8d0f8c,
  0xa04add92,
  0x7a9a9ad2,
  0x7a34f502,
  0x3e597fff,
  0x3b4e0e09,
  0x9e157231,
  0x49782d2c,
  0x607b7bc8,
  0xb4428d90,
  0x601dda19,
  0x81c8200b,
  0xcbd38cbe,
  0x55ab7e3f,
  0x833fffc2,
  0x73637fb8,
  0x904f7f05,
  0x8ad8ebe8,
  0xfbc5d061,
  0x093f8e54,
  0x7f5c7c48,
  0xa01f7ffb,
  0x05de7fc3,
  0x8e02d74e,
  0x94c27cfa,
  0x2ad291a0,
  0x80607758,
  0xe2c81829,
  0x5614fb55,
  0xf96a8979,
  0x7fef77d7,
  0x55b37e99,
  0x8082c6d8,
  0x69187f6a,
  0x7ef55c30,
  0xac7042cd,
  0x782ca022,
  0x7bd27457,
  0xe38d491e,
  0xc783895c,
  0x924f71b9,
  0x757bc4aa,
  0x5cdf8021,
  0x805f4a83,
  0x636178bb,
  0x09e14b0f,
  0xb84269a1,
  0x7df33285,
  0x3cdc57d3,
  0x54101777,
  0x0431a016,
  0xce7c41b6,
  0x8366846b,
  0xbbcd8afa,
  0x7fc44e40,
  0xbfad8e4c,
  0x028e6d16,
  0x7fe97910,
  0x6a1ff7e8,
  0xb4ea7bf5,
  0xe981c259,
  0x6accef54,
  0x079d1a41,
  0x685486cd,
  0xc66e3458,
  0x8d207fce,
  0x32c9a030,
  0xf6495ed8,
  0x61b83570,
  0xa0a77940,
  0x530c34e9,
  0x4fc588d6,
  0x3609f621,
  0x0376f911,
  0x6667752d,
  0x9a6ed1a7,
  0x51c20a67,
  0x43b34cdd,
  0x5f0605c0,
  0x7ed8e71a,
  0x99128eb4,
  0xad4c5c6a,
  0x0eec94e9,
  0x865583eb,
  0xb05969f1,
  0x03d98056,
  0x82942ec1,
  0x8004d1e4,
  0x721082b2,
  0x0d526305,
  0x7ad6d2a4,
  0x41147b05,
  0x15c59da0,
  0x211e7fdd,
  0xfe927e13,
  0x9a1d7c56,
  0x80f18096,
  0x80380267,
  0xa5602b1c,
  0xa5cd7764,
  0x7fce81a2,
  0xaee5eaea,
  0xeb318533,
  0xc82286a6,
  0x80327b32,
  0xea80814c,
  0x8f63a431,
  0x388e883b,
  0x7770801c,
  0x87c1b7cc,
  0x8e9b3cf6,
  0x7ff7949f,
  0x9f85010b,
  0x782df18e,
  0x6cf64302,
  0x32d168ae,
  0xd09c908c,
  0xd1e32c5c,
  0x887693df,
  0xac6be866,
  0x0f4f7fdf,
  0x78b26a73,
  0x601bd284,
  0x489be12f,
  0x3bfad96c,
  0x7c8f8094,
  0xcefa7e1a,
  0x348302b6,
  0x0c5605a6,
  0x92d67517,
  0x71c08057,
  0xc24d8417,
  0x234b4b0d,
  0xaba94b4f,
  0x7e837ffe,
  0xe59145e1,
  0xb07ab356,
  0x1a0290cb,
  0x82d47b41,
  0x0e391b80,
  0xcb0c241e,
  0x1ee441a8,
  0xab04f571,
  0xbb448302,
  0x838d1c44,
  0x6fddef9f,
  0x1862020d,
  0xc4ab8615,
  0xf6f58711,
  0x89acf29d,
  0x94b5fdd5,
  0x6046800f,
  0xca1c7fa5,
  0xa3b8d330,
  0x64eb43a6,
  0x7caaddd4,
  0x7efcb707,
  0x624a9e0e,
  0x9709a1e2,
  0x68dd7f9d,
  0xddcc5832,
  0xc8906d36,
  0x7ef8759a,
  0x98b7d63d,
  0x3724e3f2,
  0x56ab85ca,
  0x47e0a583,
  0x0dddf4f5,
  0x74c6ab89,
  0xc151480d,
  0x8e09a448,
  0x538b545f,
  0x56539772,
  0xc2daea82,
  0x805d883c,
  0x8ba94f67,
  0xf787e185,
  0x7f451814,
  0x7d0adb4f,
  0x795d8331,
  0x85d89a1a,
  0xc1252a1b,
  0x7fd971ea,
  0x409391ed,
  0x3c5ee817,
  0xb0896000,
  0xc7da7fff,
  0x7e3fbb6b,
  0xb1448d6c,
  0xfb15a68b,
  0xd978f62f,
  0x359c02cd,
  0x91bf7ea7,
  0x560deeba,
  0xa5759e05,
  0x78610b8e,
  0x968c0b6c,
  0xd6f3402f,
  0x49b88153,
  0xd1810986,
  0x7ff9edea,
  0x89c68296,
  0xc6e7ba95,
  0x389c5b4c,
  0x04b3516b,
  0x42c992b1,
  0x86c8fdaa,
  0x81966954,
  0x6feb726e,
  0x886f34f5,
  0x7af67730,
  0x7cd86e46,
  0x7f8b59d8,
  0x86c7da23,
  0x753f825f,

};
const int32 SBR_DEC_phi_re_im[4] = { 0x40000000, 0x4000,  0xc0000000, 0xc000 };




  const uint8 sbr_stop_minTable[12] = { 13, 15, 20, 21,
23, 32, 32, 35, 
48, 64, 70, 96 };
  const int8 sbr_stop_offset[12][14] = {
	{ 0, 2, 4, 6, 8, 11, 14, 18, 22, 26, 31, 37, 44, 51 },
	{ 0, 2, 4, 6, 8, 11, 14, 18, 22, 26, 31, 36, 42, 49 },
	{ 0, 2, 4, 6, 8, 11, 14, 17, 21, 25, 29, 34, 39, 44 },
	{ 0, 2, 4, 6, 8, 11, 14, 17, 20, 24, 28, 33, 38, 43 },
	{ 0, 2, 4, 6, 8, 11, 14, 17, 20, 24, 28, 32, 36, 41 },
	{ 0, 2, 4, 6, 8, 10, 12, 14, 17, 20, 23, 26, 29, 32 },
	{ 0, 2, 4, 6, 8, 10, 12, 14, 17, 20, 23, 26, 29, 32 },
	{ 0, 1, 3, 5, 7, 9, 11, 13, 15, 17, 20, 23, 26, 29 },
	{ 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 12, 14, 16 },
	{ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 },
	{ 0, -1, -2, -3, -4, -5, -6, -6, -6, -6, -6, -6, -6, -6 },
	{ 0, -3, -6, -9, -12, -15, -18, -20, -22, -24, -26, -28, -30, -32 }
};

  const uint8 sbr_start_minTable[12] = { 7,  7,  10, 11, 
12, 16, 16, 17, 
24, 32, 35, 48 };
  const uint8 sbr_start_offsetIndexTable[12] = { 5, 5, 4, 4, 
4, 3, 2, 1, 
0, 6, 6, 6 };
  const int8 sbr_start_offset[7][16] = {
	{ -8, -7, -6, -5, -4, -3, -2, -1, 0, 1, 2, 3, 4, 5, 6, 7 },
	{ -5, -4, -3, -2, -1, 0, 1, 2, 3, 4, 5, 6, 7, 9, 11, 13 },
	{ -5, -3, -2, -1, 0, 1, 2, 3, 4, 5, 6, 7, 9, 11, 13, 16 },
	{ -6, -4, -2, -1, 0, 1, 2, 3, 4, 5, 6, 7, 9, 11, 13, 16 },
	{ -4, -2, -1, 0, 1, 2, 3, 4, 5, 6, 7, 9, 11, 13, 16, 20 },
	{ -2, -1, 0, 1, 2, 3, 4, 5, 6, 7, 9, 11, 13, 16, 20, 24 },
	{ 0, 1, 2, 3, 4, 5, 6, 7, 9, 11, 13, 16, 20, 24, 28, 33 }
    };





const uint16 INV_tab[] = // Q0.12
{
4096,
2048,
1365,
1024,
819,
682,
585,
512,
455,
409,
372,
341,
315,
292,
273,
256,
240,
227,
215,
204,
195,
186,
178,
170,
163,
157,
151,
146,
141,
136,
132,
128,
124,
120,
117,
113,
110,
107,
105,
102,
99,
97,
95,
93,
91,
89,
87,
85,
83,
81,
80,
78,
77,
75,
74,
73,
71,
70,
69,
68,
67,
66,
65,
64,
63,
62,
61,
60,
59,
58,
57,
56,
56,
55,
54,
53,
53,
52,
51,
51,
50,
49,
49,
48,
48,
47,
47,
46,
46,
45,
45,
44,
44,
43,
43,
42,
42,
41,
41,
40,
40,
40,
39,
39,
39,
38,
38,
37,
37,
37,
36,
36,
36,
35,
35,
35,
35,
34,
34,
34,
33,
33,
33,
33,
32,
32,
32,
32,
#if 0
31,
31,
31,
31,
30,
30,
30,
30,
29,
29,
29,
29,
29,
28,
28,
28,
28,
28,
27,
27,
27,
27,
27,
26,
26,
26,
26,
26,
26,
25,
25,
25,
25,
25,
25,
24,
24,
24,
24,
24,
24,
24,
23,
23,
23,
23,
23,
23,
23,
23,
22,
22,
22,
22,
22,
22,
22,
22,
21,
21,
21,
21,
21,
21,
21,
21,
21,
20,
20,
20,
20,
20,
20,
20,
20,
20,
19,
19,
19,
19,
19,
19,
19,
19,
19,
19,
19,
18,
18,
18,
18,
18,
18,
18,
18,
18,
18,
18,
18,
17,
17,
17,
17,
17,
17,
17,
17,
17,
17,
17,
17,
17,
16,
16,
16,
16,
16,
16,
16,
16,
16,
16,
16,
16,
16,
16,
16,
16,
15,
15,
15,
15,
15,
15,
15,
15,
15,
15,
15,
15,
15,
15,
15,
15,
15,
14,
14,
14,
14,
14,
14,
14,
14,
14,
14,
14,
14,
14,
14,
14,
14,
14,
14,
14,
13,
13,
13,
13,
13,
13,
13,
13,
13,
13,
13,
13,
13,
13,
13,
13,
13,
13,
13,
13,
13,
13,
13,
12,
12,
12,
12,
12,
12,
12,
12,
12,
12,
12,
12,
12,
12,
12,
12,
12,
12,
12,
12,
12,
12,
12,
12,
12,
12,
11,
11,
11,
11,
11,
11,
11,
11,
11,
11,
11,
11,
11,
11,
11,
11,
11,
11,
11,
11,
11,
11,
11,
11,
11,
11,
11,
11,
11,
11,
11,
10,
10,
10,
10,
10,
10,
10,
10,
10,
10,
10,
10,
10,
10,
10,
10,
10,
10,
10,
10,
10,
10,
10,
10,
10,
10,
10,
10,
10,
10,
10,
10,
10,
10,
10,
10,
10,
9,
9,
9,
9,
9,
9,
9,
9,
9,
9,
9,
9,
9,
9,
9,
9,
9,
9,
9,
9,
9,
9,
9,
9,
9,
9,
9,
9,
9,
9,
9,
9,
9,
9,
9,
9,
9,
9,
9,
9,
9,
9,
9,
9,
9,
9,
8,
8,
8,
8,
8,
8,
8,
8,
8,
8,
8,
8,
8,
8,
8,
8,
8,
8,
8,
8,
8,
8,
8,
8,
8,
8,
8,
8,
8,
8,
8,
8,
8,
8,
8,
8,
8,
8,
8,
8,
8,
8,
8,
8,
8,
8,
8,
8,
8,
8,
8,
8,
8,
8,
8,
8,
8
#endif
};

const uint8 g_goalSbTab[] = 
 { 21, 23, 32, 43, 46, 64, 85, 93, 128, 0, 0, 0 };

const int16 SBR_phi_re_im[4][2] = { {32*32, 0}, {0, 32*32}, {-32*32, 0}, {0, -32*32} };
//const int8 phi_im[] = { 0, 32, 0, -32 };
const int32 limGain[] = { -16384, 0, 16384, 544260 };


const uint16 limiterBandsCompare[] = {21744, 19417, 18348};  // Q1.2



  const int8 t_huffman_env_1_5dB[120][2] = {
    {   1,   2 },    { -64, -65 },    {   3,   4 },    { -63, -66 },
    {   5,   6 },    { -62, -67 },    {   7,   8 },    { -61, -68 },
    {   9,  10 },    { -60, -69 },    {  11,  12 },    { -59, -70 },
    {  13,  14 },    { -58, -71 },    {  15,  16 },    { -57, -72 },
    {  17,  18 },    { -73, -56 },    {  19,  21 },    { -74,  20 },
    { -55, -75 },    {  22,  26 },    {  23,  24 },    { -54, -76 },
    { -77,  25 },    { -53, -78 },    {  27,  34 },    {  28,  29 },
    { -52, -79 },    {  30,  31 },    { -80, -51 },    {  32,  33 },
    { -83, -82 },    { -81, -50 },    {  35,  57 },    {  36,  40 },
    {  37,  38 },    { -88, -84 },    { -48,  39 },    { -90, -85 },
    {  41,  46 },    {  42,  43 },    { -49, -87 },    {  44,  45 },
    { -89, -86 },    {-124,-123 },    {  47,  50 },    {  48,  49 },
    {-122,-121 },    {-120,-119 },    {  51,  54 },    {  52,  53 },
    {-118,-117 },    {-116,-115 },    {  55,  56 },    {-114,-113 },
    {-112,-111 },    {  58,  89 },    {  59,  74 },    {  60,  67 },
    {  61,  64 },    {  62,  63 },    {-110,-109 },    {-108,-107 },
    {  65,  66 },    {-106,-105 },    {-104,-103 },    {  68,  71 },
    {  69,  70 },    {-102,-101 },    {-100, -99 },    {  72,  73 },
    { -98, -97 },    { -96, -95 },    {  75,  82 },    {  76,  79 },
    {  77,  78 },    { -94, -93 },    { -92, -91 },    {  80,  81 },
    { -47, -46 },    { -45, -44 },    {  83,  86 },    {  84,  85 },
    { -43, -42 },    { -41, -40 },    {  87,  88 },    { -39, -38 },
    { -37, -36 },    {  90, 105 },    {  91,  98 },    {  92,  95 },
    {  93,  94 },    { -35, -34 },    { -33, -32 },    {  96,  97 },
    { -31, -30 },    { -29, -28 },    {  99, 102 },    { 100, 101 },
    { -27, -26 },    { -25, -24 },    { 103, 104 },    { -23, -22 },
    { -21, -20 },    { 106, 113 },    { 107, 110 },    { 108, 109 },
    { -19, -18 },    { -17, -16 },    { 111, 112 },    { -15, -14 },
    { -13, -12 },    { 114, 117 },    { 115, 116 },    { -11, -10 },
    {  -9,  -8 },    { 118, 119 },    {  -7,  -6 },    {  -5,  -4 }
};

  const int8 f_huffman_env_1_5dB[120][2] = {
    {   1,   2 },    { -64, -65 },    {   3,   4 },    { -63, -66 },
    {   5,   6 },    { -67, -62 },    {   7,   8 },    { -68, -61 },
    {   9,  10 },    { -69, -60 },    {  11,  13 },    { -70,  12 },
    { -59, -71 },    {  14,  16 },    { -58,  15 },    { -72, -57 },
    {  17,  19 },    { -73,  18 },    { -56, -74 },    {  20,  23 },
    {  21,  22 },    { -55, -75 },    { -54, -53 },    {  24,  27 },
    {  25,  26 },    { -76, -52 },    { -77, -51 },    {  28,  31 },
    {  29,  30 },    { -50, -78 },    { -79, -49 },    {  32,  36 },
    {  33,  34 },    { -48, -47 },    { -80,  35 },    { -81, -82 },
    {  37,  47 },    {  38,  41 },    {  39,  40 },    { -83, -46 },
    { -45, -84 },    {  42,  44 },    { -85,  43 },    { -44, -43 },
    {  45,  46 },    { -88, -87 },    { -86, -90 },    {  48,  66 },
    {  49,  56 },    {  50,  53 },    {  51,  52 },    { -92, -42 },
    { -41, -39 },    {  54,  55 },    {-105, -89 },    { -38, -37 },
    {  57,  60 },    {  58,  59 },    { -94, -91 },    { -40, -36 },
    {  61,  63 },    { -20,  62 },    {-115,-110 },    {  64,  65 },
    {-108,-107 },    {-101, -97 },    {  67,  89 },    {  68,  75 },
    {  69,  72 },    {  70,  71 },    { -95, -93 },    { -34, -27 },
    {  73,  74 },    { -22, -17 },    { -16,-124 },    {  76,  82 },
    {  77,  79 },    {-123,  78 },    {-122,-121 },    {  80,  81 },
    {-120,-119 },    {-118,-117 },    {  83,  86 },    {  84,  85 },
    {-116,-114 },    {-113,-112 },    {  87,  88 },    {-111,-109 },
    {-106,-104 },    {  90, 105 },    {  91,  98 },    {  92,  95 },
    {  93,  94 },    {-103,-102 },    {-100, -99 },    {  96,  97 },
    { -98, -96 },    { -35, -33 },    {  99, 102 },    { 100, 101 },
    { -32, -31 },    { -30, -29 },    { 103, 104 },    { -28, -26 },
    { -25, -24 },    { 106, 113 },    { 107, 110 },    { 108, 109 },
    { -23, -21 },    { -19, -18 },    { 111, 112 },    { -15, -14 },
    { -13, -12 },    { 114, 117 },    { 115, 116 },    { -11, -10 },
    {  -9,  -8 },    { 118, 119 },    {  -7,  -6 },    {  -5,  -4 }
};

  const int8 t_huffman_env_bal_1_5dB[48][2] = {
    { -64,   1 },    { -63,   2 },    { -65,   3 },    { -62,   4 },
    { -66,   5 },    { -61,   6 },    { -67,   7 },    { -60,   8 },
    { -68,   9 },    {  10,  11 },    { -69, -59 },    {  12,  13 },
    { -70, -58 },    {  14,  28 },    {  15,  21 },    {  16,  18 },
    { -57,  17 },    { -71, -56 },    {  19,  20 },    { -88, -87 },
    { -86, -85 },    {  22,  25 },    {  23,  24 },    { -84, -83 },
    { -82, -81 },    {  26,  27 },    { -80, -79 },    { -78, -77 },
    {  29,  36 },    {  30,  33 },    {  31,  32 },    { -76, -75 },
    { -74, -73 },    {  34,  35 },    { -72, -55 },    { -54, -53 },
    {  37,  41 },    {  38,  39 },    { -52, -51 },    { -50,  40 },
    { -49, -48 },    {  42,  45 },    {  43,  44 },    { -47, -46 },
    { -45, -44 },    {  46,  47 },    { -43, -42 },    { -41, -40 }
};

  const int8 f_huffman_env_bal_1_5dB[48][2] = {
    { -64,   1 },    { -65,   2 },    { -63,   3 },    { -66,   4 },
    { -62,   5 },    { -61,   6 },    { -67,   7 },    { -68,   8 },
    { -60,   9 },    {  10,  11 },    { -69, -59 },    { -70,  12 },
    { -58,  13 },    {  14,  17 },    { -71,  15 },    { -57,  16 },
    { -56, -73 },    {  18,  32 },    {  19,  25 },    {  20,  22 },
    { -72,  21 },    { -88, -87 },    {  23,  24 },    { -86, -85 },
    { -84, -83 },    {  26,  29 },    {  27,  28 },    { -82, -81 },
    { -80, -79 },    {  30,  31 },    { -78, -77 },    { -76, -75 },
    {  33,  40 },    {  34,  37 },    {  35,  36 },    { -74, -55 },
    { -54, -53 },    {  38,  39 },    { -52, -51 },    { -50, -49 },
    {  41,  44 },    {  42,  43 },    { -48, -47 },    { -46, -45 },
    {  45,  46 },    { -44, -43 },    { -42,  47 },    { -41, -40 }
};

  const int8 t_huffman_env_3_0dB[62][2] = {
    { -64,   1 },    { -65,   2 },    { -63,   3 },    { -66,   4 },
    { -62,   5 },    { -67,   6 },    { -61,   7 },    { -68,   8 },
    { -60,   9 },    {  10,  11 },    { -69, -59 },    {  12,  14 },
    { -70,  13 },    { -71, -58 },    {  15,  18 },    {  16,  17 },
    { -72, -57 },    { -73, -74 },    {  19,  22 },    { -56,  20 },
    { -55,  21 },    { -54, -77 },    {  23,  31 },    {  24,  25 },
    { -75, -76 },    {  26,  27 },    { -78, -53 },    {  28,  29 },
    { -52, -95 },    { -94,  30 },    { -93, -92 },    {  32,  47 },
    {  33,  40 },    {  34,  37 },    {  35,  36 },    { -91, -90 },
    { -89, -88 },    {  38,  39 },    { -87, -86 },    { -85, -84 },
    {  41,  44 },    {  42,  43 },    { -83, -82 },    { -81, -80 },
    {  45,  46 },    { -79, -51 },    { -50, -49 },    {  48,  55 },
    {  49,  52 },    {  50,  51 },    { -48, -47 },    { -46, -45 },
    {  53,  54 },    { -44, -43 },    { -42, -41 },    {  56,  59 },
    {  57,  58 },    { -40, -39 },    { -38, -37 },    {  60,  61 },
    { -36, -35 },    { -34, -33 }
};

  const int8 f_huffman_env_3_0dB[62][2] = {
    { -64,   1 },    { -65,   2 },    { -63,   3 },    { -66,   4 },
    { -62,   5 },    { -67,   6 },    {   7,   8 },    { -61, -68 },
    {   9,  10 },    { -60, -69 },    {  11,  12 },    { -59, -70 },
    {  13,  14 },    { -58, -71 },    {  15,  16 },    { -57, -72 },
    {  17,  19 },    { -56,  18 },    { -55, -73 },    {  20,  24 },
    {  21,  22 },    { -74, -54 },    { -53,  23 },    { -75, -76 },
    {  25,  30 },    {  26,  27 },    { -52, -51 },    {  28,  29 },
    { -77, -79 },    { -50, -49 },    {  31,  39 },    {  32,  35 },
    {  33,  34 },    { -78, -46 },    { -82, -88 },    {  36,  37 },
    { -83, -48 },    { -47,  38 },    { -86, -85 },    {  40,  47 },
    {  41,  44 },    {  42,  43 },    { -80, -44 },    { -43, -42 },
    {  45,  46 },    { -39, -87 },    { -84, -40 },    {  48,  55 },
    {  49,  52 },    {  50,  51 },    { -95, -94 },    { -93, -92 },
    {  53,  54 },    { -91, -90 },    { -89, -81 },    {  56,  59 },
    {  57,  58 },    { -45, -41 },    { -38, -37 },    {  60,  61 },
    { -36, -35 },    { -34, -33 }
};

  const int8 t_huffman_env_bal_3_0dB[24][2] = {
    { -64,   1 },    { -63,   2 },    { -65,   3 },    { -66,   4 },
    { -62,   5 },    { -61,   6 },    { -67,   7 },    { -68,   8 },
    { -60,   9 },    {  10,  16 },    {  11,  13 },    { -69,  12 },
    { -76, -75 },    {  14,  15 },    { -74, -73 },    { -72, -71 },
    {  17,  20 },    {  18,  19 },    { -70, -59 },    { -58, -57 },
    {  21,  22 },    { -56, -55 },    { -54,  23 },    { -53, -52 }
};

  const int8 f_huffman_env_bal_3_0dB[24][2] = {
    { -64,   1 },    { -65,   2 },    { -63,   3 },    { -66,   4 },
    { -62,   5 },    { -61,   6 },    { -67,   7 },    { -68,   8 },
    { -60,   9 },    {  10,  13 },    { -69,  11 },    { -59,  12 },
    { -58, -76 },    {  14,  17 },    {  15,  16 },    { -75, -74 },
    { -73, -72 },    {  18,  21 },    {  19,  20 },    { -71, -70 },
    { -57, -56 },    {  22,  23 },    { -55, -54 },    { -53, -52 }
};


  const int8 t_huffman_noise_3_0dB[62][2] = {
    { -64,   1 },    { -63,   2 },    { -65,   3 },    { -66,   4 },
    { -62,   5 },    { -67,   6 },    {   7,   8 },    { -61, -68 },
    {   9,  30 },    {  10,  15 },    { -60,  11 },    { -69,  12 },
    {  13,  14 },    { -59, -53 },    { -95, -94 },    {  16,  23 },
    {  17,  20 },    {  18,  19 },    { -93, -92 },    { -91, -90 },
    {  21,  22 },    { -89, -88 },    { -87, -86 },    {  24,  27 },
    {  25,  26 },    { -85, -84 },    { -83, -82 },    {  28,  29 },
    { -81, -80 },    { -79, -78 },    {  31,  46 },    {  32,  39 },
    {  33,  36 },    {  34,  35 },    { -77, -76 },    { -75, -74 },
    {  37,  38 },    { -73, -72 },    { -71, -70 },    {  40,  43 },
    {  41,  42 },    { -58, -57 },    { -56, -55 },    {  44,  45 },
    { -54, -52 },    { -51, -50 },    {  47,  54 },    {  48,  51 },
    {  49,  50 },    { -49, -48 },    { -47, -46 },    {  52,  53 },
    { -45, -44 },    { -43, -42 },    {  55,  58 },    {  56,  57 },
    { -41, -40 },    { -39, -38 },    {  59,  60 },    { -37, -36 },
    { -35,  61 },    { -34, -33 }
};

  const int8 t_huffman_noise_bal_3_0dB[24][2] = {
    { -64,   1 },    { -65,   2 },    { -63,   3 },    {   4,   9 },
    { -66,   5 },    { -62,   6 },    {   7,   8 },    { -76, -75 },
    { -74, -73 },    {  10,  17 },    {  11,  14 },    {  12,  13 },
    { -72, -71 },    { -70, -69 },    {  15,  16 },    { -68, -67 },
    { -61, -60 },    {  18,  21 },    {  19,  20 },    { -59, -58 },
    { -57, -56 },    {  22,  23 },    { -55, -54 },    { -53, -52 }
};



const uint8 log2tab[] = { 0, 0, 1, 2, 2, 3, 3, 3, 3, 4 };

const uint8 temp1[] = { 6, 5, 4 };