<tapp>
    <testcase name="PS emgcy service active">
        <!-- Validate this isip caused by service activate  -->
        <action type="validate isip" timeout="2000">
            <isip>
                <code type="enum">ISIP_CODE_SERVICE</code>
                <protocol  type="int">1</protocol>
                <service>
                    <reason type="enum">ISIP_SERVICE_REASON_NET</reason>
                    <status type="enum">ISIP_STATUS_TRYING</status>
                    <name type="string">lte</name>
                    <address type="addr">172.16.0.100</address>
                </service>
            </isip> 
        </action>
        <action type="validate isip" timeout="2000">
            <isip>
                <code type="enum">ISIP_CODE_SERVICE</code>
                <protocol  type="int">1</protocol>
                <service>
                    <reason type="enum">ISIP_SERVICE_REASON_SERVER</reason>
                    <status type="enum">ISIP_STATUS_TRYING</status>
                    <server type="string"></server>
                    <serverType type="enum">ISI_SERVER_TYPE_REGISTRAR</serverType>
                </service>
            </isip>
        </action>
        <action type="validate isip" timeout="1000">
            <isip>
                <code type="enum">ISIP_CODE_SERVICE</code>
                <service>
                    <reason type="enum">ISIP_SERVICE_REASON_SERVER</reason>
                    <status type="enum">ISIP_STATUS_TRYING</status>
                    <server type="string">sbc.core.foundry.att.com;transport=TCP</server>
                    <serverType type="enum">ISI_SERVER_TYPE_OUTBOUND_PROXY</serverType>
                </service>
            </isip>
        </action>
        <action type="issue isip">
            <isip>
                <code type="enum">ISIP_CODE_SERVICE</code>
                <service>
                    <reason type="enum">ISIP_SERVICE_REASON_SERVER</reason>
                    <status type="enum">ISIP_STATUS_DONE</status>
                    <serverType type="enum">ISI_SERVER_TYPE_OUTBOUND_PROXY</serverType>
                </service>
            </isip>
        </action>
        <!-- Active Service to register  -->
        <action type="validate isip" timeout="2000">
            <isip>
                <code type="enum">ISIP_CODE_SERVICE</code>
                <protocol  type="int">1</protocol>
                <id type="int">1</id>
                <service>
                    <reason type="enum">ISIP_SERVICE_REASON_ACTIVATE</reason>
                    <status type="enum">ISIP_STATUS_TRYING</status>
                </service>
            </isip>
        </action>
        <!-- AT infc verify receiving emergency register state. -->
        <action type="validate at" timeout="5000">%EREG: 1&#13;&#xA;</action>
        <!-- issue active done -->
        <action type="issue isip">
            <isip>
                <code type="enum">ISIP_CODE_SERVICE</code>
                <protocol  type="int">1</protocol>
                <id type="int">1</id>
                <service>
                    <reason type="enum">ISIP_SERVICE_REASON_ACTIVATE</reason>
                    <status type="enum">ISIP_STATUS_DONE</status>
                </service>
            </isip>
        </action>
        <action type="pause">3000</action>
        <!-- AT infc verify receiving emergency register state. -->
        <action type="validate at" timeout="5000">%EREG: 1&#13;&#xA;</action>
    </testcase>
</tapp>
